services:
  # graph-explorer:
  #   image: public.ecr.aws/neptune/graph-explorer:latest  # No build needed
  #   container_name: graph-explorer
  #   ports:
  #     - "8080:80"
  #   environment:
  #     - HOST=localhost
  #     - PUBLIC_OR_PROXY_ENDPOINT=http://localhost:8080
  #     - GRAPH_TYPE=gremlin
  #     - USING_PROXY_SERVER=true
  #     - PROXY_SERVER_HTTPS_CONNECTION=false
  #     - GRAPH_CONNECTION_URL=http://gremlin-server:8182
  #   depends_on:
  #     - gremlin-server

  gremlin-server:
    build: .
    container_name: gremlin-server
    ports:
      - "8182:8182"
    environment:
      - HOST=localhost
      - gremlinserver.channelizer=org.apache.tinkerpop.gremlin.server.channel.HttpChannelizer
    volumes:
      - ./data:/data