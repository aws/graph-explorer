@import "tailwindcss";
@import "tw-animate-css";

@config "../tailwind.config.ts";

/* 
 * Use `dark` class name to indicate dark mode.
 * 
 * We will need to slowly build up dark mode support component by component, so
 * this is a way to force dark mode to be off, unless we explicitly set `dark`
 * in the classes in the root component.
 * 
 * https://github.com/aws/graph-explorer/issues/645
 */
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  /* Custom color palette */

  /* Remove unused neutral colors from Tailwind theme */
  --color-slate-*: initial;
  --color-gray-*: initial;
  --color-zinc-*: initial;
  --color-neutral-*: initial;
  --color-stone-*: initial;

  --color-gray-50: rgb(250 250 250);
  --color-gray-100: rgb(245 245 245);
  --color-gray-200: rgb(229 229 229);
  --color-gray-300: rgb(212 212 212);
  --color-gray-400: rgb(163 163 163);
  --color-gray-500: rgb(115 115 115);
  --color-gray-600: rgb(82 82 82);
  --color-gray-700: rgb(64 64 64);
  --color-gray-800: rgb(38 38 38);
  --color-gray-900: rgb(23 23 23);
  --color-gray-950: rgb(10 10 10);

  --color-brand-50: hsl(205deg 87% 95%);
  --color-brand-100: hsl(205deg 87% 93%);
  --color-brand-200: hsl(205deg 87% 82%);
  --color-brand-300: hsl(205deg 95% 71%);
  --color-brand-400: hsl(205deg 87% 57%);
  --color-brand-500: hsl(205deg 85% 48%);
  --color-brand-600: hsl(205deg 87% 39%);
  --color-brand-700: hsl(205deg 89% 31%);
  --color-brand-800: hsl(205deg 92% 24%);
  --color-brand-900: hsl(205deg 95% 12%);
  --color-brand-950: hsl(205deg 98% 6%);

  /* Semantic colors */

  --color-border: var(--color-gray-200);

  --color-input-background: var(--color-white);
  --color-input-border: var(--color-gray-300);

  --color-text-primary: rgb(33 33 33);
  --color-text-secondary: rgb(115 115 115);

  --color-background-default: var(--color-white);
  --color-background-secondary: rgb(224 233 246);

  --color-primary-light: var(--color-brand-300);
  --color-primary-main: var(--color-brand-500);
  --color-primary-dark: var(--color-brand-800);

  --color-error-light: rgb(252 165 165);
  --color-error-main: rgb(239 68 68);
  --color-error-dark: rgb(153 27 27);

  --color-success-main: rgb(39 175 140);

  --color-warning-main: rgb(250 133 0);

  /* Semantic colors for shadcn/ui components */

  --color-background: var(--color-background-default);
  --color-foreground: var(--color-text-primary);
  --color-muted-foreground: var(--color-text-secondary);
  --color-muted: var(--color-gray-100);
  --color-primary: var(--color-primary-main);
  --color-primary-foreground: var(--color-white);
  --color-destructive: var(--color-error-main);
  --color-popover: var(--color-background);
  --color-popover-foreground: var(--color-foreground);

  /* Colors from tailwind config */
  --background-color-default: var(--color-background-default);
  --background-color-secondary: var(--color-background-secondary);
  --background-color-secondary-subtle: color-mix(
    in oklab,
    var(--color-background-secondary) 60%,
    transparent
  );

  --background-color-brand: var(--color-brand-500);
  --background-color-brand-hover: var(--color-brand-600);
  --background-color-brand-subtle: var(--color-brand-50);
  --background-color-brand-subtle-hover: var(--color-brand-100);

  --color-primary-subtle: var(--color-brand-50);
  --color-primary-subtle-hover: var(--color-brand-100);
  --color-primary-subtle-foreground: var(--color-primary-dark);

  --background-color-danger: var(--color-red-500);
  --background-color-danger-hover: var(--color-red-600);

  --color-danger-subtle: var(--color-red-50);
  --color-danger-subtle-hover: var(--color-red-100);
  --color-danger-subtle-foreground: var(--color-error-dark);

  --text-color-danger: var(--color-red-700);
  --text-color-brand: var(--color-brand-700);

  --border-color-input: var(--color-input-border);
}

@layer base {
  html {
    font-size: 14px;
    /* Allow animating intrinsic values like height */
    interpolate-size: allow-keywords;
  }

  b {
    @apply font-bold;
  }

  body {
    @apply bg-background-default text-text-primary h-screen w-full overflow-hidden overscroll-none font-sans;
  }

  #root {
    @apply size-full;
  }

  .lucide {
    stroke-width: 2px;
  }

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

@utility stack {
  display: grid;

  & > * {
    grid-area: 1 / 1 / 2 / 2;
  }
}

@utility gx-wrap-break-word {
  min-width: 0;
  overflow-wrap: break-word;
  word-wrap: break-word;
  word-break: break-word;
  hyphens: auto;
  text-wrap: pretty;
}
