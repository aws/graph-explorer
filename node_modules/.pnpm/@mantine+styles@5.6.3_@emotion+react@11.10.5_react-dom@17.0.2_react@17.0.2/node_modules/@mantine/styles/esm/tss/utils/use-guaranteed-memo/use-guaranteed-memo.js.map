{"version":3,"file":"use-guaranteed-memo.js","sources":["../../../../src/tss/utils/use-guaranteed-memo/use-guaranteed-memo.ts"],"sourcesContent":["import { useRef } from 'react';\n\nexport function useGuaranteedMemo<T>(fn: () => T, deps: React.DependencyList): T {\n  const ref = useRef<{ v: T; prevDeps: unknown[] }>();\n\n  if (\n    !ref.current ||\n    deps.length !== ref.current.prevDeps.length ||\n    ref.current.prevDeps.map((v, i) => v === deps[i]).indexOf(false) >= 0\n  ) {\n    ref.current = {\n      v: fn(),\n      prevDeps: [...deps],\n    };\n  }\n\n  return ref.current.v;\n}\n"],"names":[],"mappings":";;AACO,SAAS,iBAAiB,CAAC,EAAE,EAAE,IAAI,EAAE;AAC5C,EAAE,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC;AACvB,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,IAAI,IAAI,CAAC,MAAM,KAAK,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,IAAI,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;AAC5I,IAAI,GAAG,CAAC,OAAO,GAAG;AAClB,MAAM,CAAC,EAAE,EAAE,EAAE;AACb,MAAM,QAAQ,EAAE,CAAC,GAAG,IAAI,CAAC;AACzB,KAAK,CAAC;AACN,GAAG;AACH,EAAE,OAAO,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;AACvB;;;;"}