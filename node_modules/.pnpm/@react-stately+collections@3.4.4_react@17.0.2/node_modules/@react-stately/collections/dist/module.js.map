{"mappings":"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","sources":["packages/@react-stately/collections/src/index.ts","packages/@react-stately/collections/src/Item.ts","packages/@react-stately/collections/src/Section.ts","packages/@react-stately/collections/src/useCollection.ts","packages/@react-stately/collections/src/CollectionBuilder.ts","packages/@react-stately/collections/src/getItemCount.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nexport type {PartialNode} from './types';\nexport {Item} from './Item';\nexport {Section} from './Section';\nexport {useCollection} from './useCollection';\nexport {getItemCount} from './getItemCount';\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {ItemElement, ItemProps} from '@react-types/shared';\nimport {PartialNode} from './types';\nimport React, {ReactElement} from 'react';\n\nfunction Item<T>(props: ItemProps<T>): ReactElement { // eslint-disable-line @typescript-eslint/no-unused-vars\n  return null;\n}\n\nItem.getCollectionNode = function* getCollectionNode<T>(props: ItemProps<T>, context: any): Generator<PartialNode<T>> {\n  let {childItems, title, children} = props;\n\n  let rendered = props.title || props.children;\n  let textValue = props.textValue || (typeof rendered === 'string' ? rendered : '') || props['aria-label'] || '';\n\n  // suppressTextValueWarning is used in components like Tabs, which don't have type to select support.\n  if (!textValue && !context?.suppressTextValueWarning) {\n    console.warn('<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop.');\n  }\n\n  yield {\n    type: 'item',\n    props: props,\n    rendered,\n    textValue,\n    'aria-label': props['aria-label'],\n    hasChildNodes: hasChildItems(props),\n    *childNodes() {\n      if (childItems) {\n        for (let child of childItems) {\n          yield {\n            type: 'item',\n            value: child\n          };\n        }\n      } else if (title) {\n        let items: PartialNode<T>[] = [];\n        React.Children.forEach(children, child => {\n          items.push({\n            type: 'item',\n            element: child as ItemElement<T>\n          });\n        });\n\n        yield* items;\n      }\n    }\n  };\n};\n\nfunction hasChildItems<T>(props: ItemProps<T>) {\n  if (props.hasChildItems != null) {\n    return props.hasChildItems;\n  }\n\n  if (props.childItems) {\n    return true;\n  }\n\n  if (props.title && React.Children.count(props.children) > 0) {\n    return true;\n  }\n\n  return false;\n}\n\n// We don't want getCollectionNode to show up in the type definition\nlet _Item = Item as <T>(props: ItemProps<T>) => JSX.Element;\nexport {_Item as Item};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {PartialNode} from './types';\nimport React, {ReactElement} from 'react';\nimport {SectionProps} from '@react-types/shared';\n\nfunction Section<T>(props: SectionProps<T>): ReactElement { // eslint-disable-line @typescript-eslint/no-unused-vars\n  return null;\n}\n\nSection.getCollectionNode = function* getCollectionNode<T>(props: SectionProps<T>): Generator<PartialNode<T>> {\n  let {children, title, items} = props;\n  yield {\n    type: 'section',\n    hasChildNodes: true,\n    rendered: title,\n    'aria-label': props['aria-label'],\n    *childNodes() {\n      if (typeof children === 'function') {\n        if (!items) {\n          throw new Error('props.children was a function but props.items is missing');\n        }\n    \n        for (let item of items) {\n          yield {\n            type: 'item',\n            value: item,\n            renderer: children\n          };\n        }\n      } else {\n        let items: PartialNode<T>[] = [];\n        React.Children.forEach(children, child => {\n          items.push({\n            type: 'item',\n            element: child\n          });\n        });\n\n        yield* items;\n      }\n    }\n  };\n};\n\n// We don't want getCollectionNode to show up in the type definition\nlet _Section = Section as <T>(props: SectionProps<T>) => JSX.Element;\nexport {_Section as Section};\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Collection, CollectionBase, Node} from '@react-types/shared';\nimport {CollectionBuilder} from './CollectionBuilder';\nimport {useMemo, useRef} from 'react';\n\ntype CollectionFactory<T, C extends Collection<Node<T>>> = (node: Iterable<Node<T>>, prev: C | null) => C;\n\nexport function useCollection<T extends object, C extends Collection<Node<T>> = Collection<Node<T>>>(props: CollectionBase<T>, factory: CollectionFactory<T, C>, context?: unknown, invalidators: Array<any> = []): C {\n  let builder = useMemo(() => new CollectionBuilder<T>(), []);\n\n  let prev = useRef<C>(null);\n  return useMemo(() => {\n    let nodes = builder.build(props, context);\n    prev.current = factory(nodes, prev.current);\n    return prev.current;\n  // Don't invalidate when any prop changes, just the two we care about.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [builder, props.children, props.items, context, ...invalidators]);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {CollectionBase, CollectionElement, Node} from '@react-types/shared';\nimport {PartialNode} from './types';\nimport React, {Key, ReactElement} from 'react';\n\ninterface CollectionBuilderState {\n  renderer?: (value: any) => ReactElement\n}\n\nexport class CollectionBuilder<T extends object> {\n  private context?: unknown;\n  private cache: WeakMap<T, Node<T>> = new WeakMap();\n\n  build(props: CollectionBase<T>, context?: unknown) {\n    this.context = context;\n    return iterable(() => this.iterateCollection(props));\n  }\n\n  private *iterateCollection(props: CollectionBase<T>) {\n    let {children, items} = props;\n\n    if (typeof children === 'function') {\n      if (!items) {\n        throw new Error('props.children was a function but props.items is missing');\n      }\n\n      for (let item of props.items) {\n        yield* this.getFullNode({\n          value: item\n        }, {renderer: children});\n      }\n    } else {\n      let items: CollectionElement<T>[] = [];\n      React.Children.forEach(children, child => {\n        items.push(child);\n      });\n\n      let index = 0;\n      for (let item of items) {\n        let nodes = this.getFullNode({\n          element: item,\n          index: index\n        }, {});\n\n        for (let node of nodes) {\n          index++;\n          yield node;\n        }\n      }\n    }\n  }\n\n  private getKey(item: CollectionElement<T>, partialNode: PartialNode<T>, state: CollectionBuilderState, parentKey?: Key): Key {\n    if (item.key != null) {\n      return item.key;\n    }\n\n    if (partialNode.type === 'cell' && partialNode.key != null) {\n      return `${parentKey}${partialNode.key}`;\n    }\n\n    let v = partialNode.value as any;\n    if (v != null) {\n      let key = v.key ?? v.id;\n      if (key == null) {\n        throw new Error('No key found for item');\n      }\n\n      return key;\n    }\n\n    return parentKey ? `${parentKey}.${partialNode.index}` : `$.${partialNode.index}`;\n  }\n\n  private getChildState(state: CollectionBuilderState, partialNode: PartialNode<T>) {\n    return {\n      renderer: partialNode.renderer || state.renderer\n    };\n  }\n\n  private *getFullNode(partialNode: PartialNode<T>, state: CollectionBuilderState, parentKey?: Key, parentNode?: Node<T>): Generator<Node<T>> {\n    // If there's a value instead of an element on the node, and a parent renderer function is available,\n    // use it to render an element for the value.\n    let element = partialNode.element;\n    if (!element && partialNode.value && state && state.renderer) {\n      let cached = this.cache.get(partialNode.value);\n      if (cached && (!cached.shouldInvalidate || !cached.shouldInvalidate(this.context))) {\n        cached.index = partialNode.index;\n        cached.parentKey = parentNode ? parentNode.key : null;\n        yield cached;\n        return;\n      }\n\n      element = state.renderer(partialNode.value);\n    }\n\n    // If there's an element with a getCollectionNode function on its type, then it's a supported component.\n    // Call this function to get a partial node, and recursively build a full node from there.\n    if (React.isValidElement(element)) {\n      let type = element.type as any;\n      if (typeof type !== 'function' && typeof type.getCollectionNode !== 'function') {\n        let name = typeof element.type === 'function' ? element.type.name : element.type;\n        throw new Error(`Unknown element <${name}> in collection.`);\n      }\n\n      let childNodes = type.getCollectionNode(element.props, this.context) as Generator<PartialNode<T>, void, Node<T>[]>;\n      let index = partialNode.index;\n      let result = childNodes.next();\n      while (!result.done && result.value) {\n        let childNode = result.value;\n\n        partialNode.index = index;\n\n        let nodeKey = childNode.key;\n        if (!nodeKey) {\n          nodeKey = childNode.element ? null : this.getKey(element as CollectionElement<T>, partialNode, state, parentKey);\n        }\n\n        let nodes = this.getFullNode({\n          ...childNode,\n          key: nodeKey,\n          index,\n          wrapper: compose(partialNode.wrapper, childNode.wrapper)\n        }, this.getChildState(state, childNode), parentKey ? `${parentKey}${element.key}` : element.key, parentNode);\n\n        let children = [...nodes];\n        for (let node of children) {\n          // Cache the node based on its value\n          node.value = childNode.value || partialNode.value;\n          if (node.value) {\n            this.cache.set(node.value, node);\n          }\n\n          // The partial node may have specified a type for the child in order to specify a constraint.\n          // Verify that the full node that was built recursively matches this type.\n          if (partialNode.type && node.type !== partialNode.type) {\n            throw new Error(`Unsupported type <${capitalize(node.type)}> in <${capitalize(parentNode.type)}>. Only <${capitalize(partialNode.type)}> is supported.`);\n          }\n\n          index++;\n          yield node;\n        }\n\n        result = childNodes.next(children);\n      }\n\n      return;\n    }\n\n    // Ignore invalid elements\n    if (partialNode.key == null) {\n      return;\n    }\n\n    // Create full node\n    let builder = this;\n    let node: Node<T> = {\n      type: partialNode.type,\n      props: partialNode.props,\n      key: partialNode.key,\n      parentKey: parentNode ? parentNode.key : null,\n      value: partialNode.value,\n      level: parentNode ? parentNode.level + 1 : 0,\n      index: partialNode.index,\n      rendered: partialNode.rendered,\n      textValue: partialNode.textValue,\n      'aria-label': partialNode['aria-label'],\n      wrapper: partialNode.wrapper,\n      shouldInvalidate: partialNode.shouldInvalidate,\n      hasChildNodes: partialNode.hasChildNodes,\n      childNodes: iterable(function *() {\n        if (!partialNode.hasChildNodes) {\n          return;\n        }\n\n        let index = 0;\n        for (let child of partialNode.childNodes()) {\n          // Ensure child keys are globally unique by prepending the parent node's key\n          if (child.key != null) {\n            // TODO: Remove this line entirely and enforce that users always provide unique keys.\n            // Currently this line will have issues when a parent has a key `a` and a child with key `bc`\n            // but another parent has key `ab` and its child has a key `c`. The combined keys would result in both\n            // children having a key of `abc`.\n            child.key = `${node.key}${child.key}`;\n          }\n\n          child.index = index;\n          let nodes = builder.getFullNode(child, builder.getChildState(state, child), node.key, node);\n          for (let node of nodes) {\n            index++;\n            yield node;\n          }\n        }\n      })\n    };\n\n    yield node;\n  }\n}\n\n// Wraps an iterator function as an iterable object, and caches the results.\nfunction iterable<T>(iterator: () => IterableIterator<Node<T>>): Iterable<Node<T>> {\n  let cache = [];\n  let iterable = null;\n  return {\n    *[Symbol.iterator]() {\n      for (let item of cache) {\n        yield item;\n      }\n\n      if (!iterable) {\n        iterable = iterator();\n      }\n\n      for (let item of iterable) {\n        cache.push(item);\n        yield item;\n      }\n    }\n  };\n}\n\ntype Wrapper = (element: ReactElement) => ReactElement;\nfunction compose(outer: Wrapper | void, inner: Wrapper | void): Wrapper {\n  if (outer && inner) {\n    return (element) => outer(inner(element));\n  }\n\n  if (outer) {\n    return outer;\n  }\n\n  if (inner) {\n    return inner;\n  }\n}\n\nfunction capitalize(str: string) {\n  return str[0].toUpperCase() + str.slice(1);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Node} from '@react-types/shared';\n\nconst cache = new WeakMap<Iterable<unknown>, number>();\n\nexport function getItemCount<T>(collection: Iterable<Node<T>>): number {\n  let count = cache.get(collection);\n  if (count != null) {\n    return count;\n  }\n\n  count = 0;\n  for (let item of collection) {\n    if (item.type === 'section') {\n      count += getItemCount(item.childNodes);\n    } else {\n      count++;\n    }\n  }\n\n  cache.set(collection, count);\n  return count;\n}\n"],"names":[],"version":3,"file":"module.js.map"}