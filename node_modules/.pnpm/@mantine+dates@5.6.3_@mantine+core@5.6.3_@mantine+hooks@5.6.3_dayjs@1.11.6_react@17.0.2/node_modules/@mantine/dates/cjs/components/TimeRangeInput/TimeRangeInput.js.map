{"version":3,"file":"TimeRangeInput.js","sources":["../../../src/components/TimeRangeInput/TimeRangeInput.tsx"],"sourcesContent":["import React, { useState, useRef, forwardRef } from 'react';\nimport {\n  InputSharedProps,\n  InputWrapperBaseProps,\n  InputStylesNames,\n  InputWrapperStylesNames,\n  DefaultProps,\n  Input,\n  MantineSize,\n  Selectors,\n  CloseButton,\n  extractSystemStyles,\n  useComponentDefaultProps,\n} from '@mantine/core';\nimport { useDidUpdate, useMergedRef, useId } from '@mantine/hooks';\nimport useStyles from './TimeRangeInput.styles';\nimport { TimeInput } from '../TimeInput';\n\nexport type TimeRangeInputStylesNames =\n  | Exclude<Selectors<typeof useStyles>, 'disabled'>\n  | InputStylesNames\n  | InputWrapperStylesNames;\n\nexport interface TimeRangeInputProps\n  extends DefaultProps<TimeRangeInputStylesNames>,\n    InputSharedProps,\n    InputWrapperBaseProps,\n    Omit<React.ComponentPropsWithoutRef<'div'>, 'onChange' | 'value' | 'defaultValue'> {\n  /** Input size */\n  size?: MantineSize;\n\n  /** Controlled input value */\n  value?: [Date | null, Date | null];\n\n  /** Uncontrolled input default value */\n  defaultValue?: [Date | null, Date | null];\n\n  /** Controlled input onChange handler */\n  onChange?(value: [Date, Date]): void;\n\n  /** Display seconds input */\n  withSeconds?: boolean;\n\n  /** Allow to clear item */\n  clearable?: boolean;\n\n  /** aria-label for clear button */\n  clearButtonLabel?: string;\n\n  /** The time format */\n  format?: '12' | '24';\n\n  /** Uncontrolled input name */\n  name?: string;\n\n  /** aria-label for hours input */\n  hoursLabel?: string;\n\n  /** aria-label for minutes input */\n  minutesLabel?: string;\n\n  /** aria-label for seconds input */\n  secondsLabel?: string;\n\n  /** aria-label for am/pm input */\n  amPmLabel?: string;\n\n  /** placeholder for time input */\n  timePlaceholder?: string;\n\n  /** placeholder for am/pm input */\n  amPmPlaceholder?: string;\n\n  /** Disable field */\n  disabled?: boolean;\n\n  /** Separator between time inputs */\n  labelSeparator?: string;\n}\n\nconst RIGHT_SECTION_WIDTH = {\n  xs: 24,\n  sm: 30,\n  md: 34,\n  lg: 40,\n  xl: 44,\n};\n\nconst defaultProps: Partial<TimeRangeInputProps> = {\n  size: 'sm',\n  defaultValue: [null, null],\n  withSeconds: false,\n  clearable: false,\n  format: '24',\n  timePlaceholder: '--',\n  amPmPlaceholder: 'am',\n  labelSeparator: 'â€“',\n  disabled: false,\n};\n\nexport const TimeRangeInput = forwardRef<HTMLInputElement, TimeRangeInputProps>(\n  (props: TimeRangeInputProps, ref) => {\n    const {\n      required,\n      label,\n      error,\n      description,\n      className,\n      style,\n      size,\n      wrapperProps,\n      classNames,\n      styles,\n      id,\n      value,\n      defaultValue,\n      onChange,\n      withSeconds,\n      clearable,\n      clearButtonLabel,\n      format,\n      name,\n      hoursLabel,\n      minutesLabel,\n      secondsLabel,\n      amPmLabel,\n      timePlaceholder,\n      amPmPlaceholder,\n      labelSeparator,\n      disabled,\n      sx,\n      labelProps,\n      descriptionProps,\n      errorProps,\n      unstyled,\n      withAsterisk,\n      ...others\n    } = useComponentDefaultProps('TimeRangeInput', defaultProps, props);\n\n    const { classes, cx, theme } = useStyles(\n      { size },\n      { classNames, styles, unstyled, name: 'TimeRangeInput' }\n    );\n\n    const { systemStyles, rest } = extractSystemStyles(others);\n    const uuid = useId(id);\n\n    const fromTimeRef = useRef<HTMLInputElement>();\n    const toTimeRef = useRef<HTMLInputElement>();\n    const [_value, setValue] = useState<[Date, Date]>(value ?? defaultValue);\n\n    useDidUpdate(() => {\n      typeof onChange === 'function' && onChange(_value);\n    }, [_value]);\n\n    // Allow controlled value prop to override internal _value\n    useDidUpdate(() => {\n      if (\n        value[0]?.getTime() !== _value[0]?.getTime() ||\n        value[1]?.getTime() !== _value[1]?.getTime()\n      ) {\n        setValue(value);\n      }\n    }, [value]);\n\n    const handleClear = () => {\n      setValue([null, null]);\n      fromTimeRef.current?.focus();\n    };\n\n    const rightSection =\n      clearable && _value.filter((item) => Boolean(item)).length > 0 ? (\n        <CloseButton\n          variant=\"transparent\"\n          aria-label={clearButtonLabel}\n          onClick={handleClear}\n          size={size}\n          unstyled={unstyled}\n        />\n      ) : null;\n\n    const forwardProps = {\n      amPmLabel,\n      amPmPlaceholder,\n      disabled,\n      format,\n      hoursLabel,\n      minutesLabel,\n      secondsLabel,\n      size,\n      timePlaceholder,\n      withSeconds,\n    };\n\n    return (\n      <Input.Wrapper\n        required={required}\n        label={label}\n        error={error}\n        description={description}\n        className={className}\n        style={style}\n        classNames={classNames}\n        styles={styles}\n        size={size}\n        __staticSelector=\"TimeRangeInput\"\n        id={uuid}\n        sx={sx}\n        errorProps={errorProps}\n        descriptionProps={descriptionProps}\n        labelProps={labelProps}\n        unstyled={unstyled}\n        withAsterisk={withAsterisk}\n        {...systemStyles}\n        {...wrapperProps}\n      >\n        <Input\n          component=\"div\"\n          __staticSelector=\"TimeRangeInput\"\n          required={required}\n          invalid={!!error}\n          onClick={() => {\n            fromTimeRef.current?.focus();\n          }}\n          size={size}\n          className={cx({ [classes.disabled]: disabled })}\n          classNames={classNames}\n          styles={styles}\n          disabled={disabled}\n          rightSection={rightSection}\n          rightSectionWidth={theme.fn.size({ size, sizes: RIGHT_SECTION_WIDTH })}\n          unstyled={unstyled}\n          {...rest}\n        >\n          <div className={classes.inputWrapper}>\n            <TimeInput\n              ref={useMergedRef(fromTimeRef, ref)}\n              variant=\"unstyled\"\n              value={_value[0]}\n              onChange={(date) => setValue([date, _value[1]])}\n              name={name}\n              nextRef={toTimeRef}\n              id={uuid}\n              unstyled={unstyled}\n              {...forwardProps}\n            />\n\n            <span\n              className={classes.separator}\n              style={{\n                color: theme.colorScheme === 'dark' ? theme.colors.dark[2] : theme.colors.gray[7],\n              }}\n            >\n              {labelSeparator}\n            </span>\n\n            <TimeInput\n              ref={toTimeRef}\n              variant=\"unstyled\"\n              value={_value[1]}\n              onChange={(date) => setValue([_value[0], date])}\n              unstyled={unstyled}\n              {...forwardProps}\n            />\n          </div>\n        </Input>\n      </Input.Wrapper>\n    );\n  }\n);\n\nTimeRangeInput.displayName = '@mantine/dates/TimeRangeInput';\n"],"names":["forwardRef","useComponentDefaultProps","useStyles","extractSystemStyles","useId","useRef","useState","useDidUpdate","React","CloseButton","Input","TimeInput","useMergedRef"],"mappings":"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"}