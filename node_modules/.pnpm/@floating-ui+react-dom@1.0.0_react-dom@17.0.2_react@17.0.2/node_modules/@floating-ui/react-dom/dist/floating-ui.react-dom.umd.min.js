!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@floating-ui/dom"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","@floating-ui/dom","react","react-dom"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FloatingUIReactDOM={},e.FloatingUIDOM,e.React,e.ReactDOM)}(this,(function(e,t,r,n){"use strict";function u(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var o=u(r),c=u(n),f="undefined"!=typeof document?r.useLayoutEffect:r.useEffect;function a(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let r,n,u;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;0!=n--;)if(!a(e[n],t[n]))return!1;return!0}if(u=Object.keys(e),r=u.length,r!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,u[n]))return!1;for(n=r;0!=n--;){const r=u[n];if(("_owner"!==r||!e.$$typeof)&&!a(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}e.arrow=e=>{const{element:r,padding:n}=e;return{name:"arrow",options:e,fn(e){return u=r,Object.prototype.hasOwnProperty.call(u,"current")?null!=r.current?t.arrow({element:r.current,padding:n}).fn(e):{}:r?t.arrow({element:r,padding:n}).fn(e):{};var u}}},e.useFloating=function(e){let{middleware:r,placement:n="bottom",strategy:u="absolute",whileElementsMounted:l}=void 0===e?{}:e;const[i,s]=o.useState({x:null,y:null,strategy:u,placement:n,middlewareData:{}}),[d,p]=o.useState(r);a(null==d?void 0:d.map((e=>{let{name:t,options:r}=e;return{name:t,options:r}})),null==r?void 0:r.map((e=>{let{name:t,options:r}=e;return{name:t,options:r}})))||p(r);const y=o.useRef(null),m=o.useRef(null),g=o.useRef(null),b=o.useRef(i),O=function(e){const t=o.useRef(e);return f((()=>{t.current=e})),t}(l),h=o.useCallback((()=>{y.current&&m.current&&t.computePosition(y.current,m.current,{middleware:d,placement:n,strategy:u}).then((e=>{j.current&&!a(b.current,e)&&(b.current=e,c.flushSync((()=>{s(e)})))}))}),[d,n,u]);f((()=>{j.current&&h()}),[h]);const j=o.useRef(!1);f((()=>(j.current=!0,()=>{j.current=!1})),[]);const w=o.useCallback((()=>{if("function"==typeof g.current&&(g.current(),g.current=null),y.current&&m.current)if(O.current){const e=O.current(y.current,m.current,h);g.current=e}else h()}),[h,O]),R=o.useCallback((e=>{y.current=e,w()}),[w]),k=o.useCallback((e=>{m.current=e,w()}),[w]),v=o.useMemo((()=>({reference:y,floating:m})),[]);return o.useMemo((()=>({...i,update:h,refs:v,reference:R,floating:k})),[i,h,v,R,k])},Object.keys(t).forEach((function(r){"default"===r||e.hasOwnProperty(r)||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})})),Object.defineProperty(e,"__esModule",{value:!0})}));
