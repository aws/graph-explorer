{"version":3,"names":["isFor","isForStatement","isIfStatement","isStatement","WithStatement","node","word","space","token","print","object","printBlock","IfStatement","test","needsBlock","alternate","getLastStatement","consequent","newline","indent","printAndIndentOnComments","dedent","endsWith","statement","body","ForStatement","inForStatementInitCounter","init","update","WhileStatement","ForXStatement","isForOf","type","await","printInnerComments","left","right","ForInStatement","ForOfStatement","DoWhileStatement","semicolon","printStatementAfterKeyword","printer","parent","isLabel","printTerminatorless","BreakStatement","label","ContinueStatement","ReturnStatement","argument","ThrowStatement","LabeledStatement","TryStatement","block","handlers","handler","finalizer","CatchClause","param","typeAnnotation","SwitchStatement","discriminant","printSequence","cases","addNewlines","leading","cas","length","SwitchCase","DebuggerStatement","VariableDeclaration","declare","kind","_noLineTerminator","hasInits","declar","declarations","iterator","_","i","printList","separator","undefined","VariableDeclarator","id","definite"],"sources":["../../src/generators/statements.ts"],"sourcesContent":["import type Printer from \"../printer\";\nimport type { PrintJoinOptions } from \"../printer\";\nimport {\n  isFor,\n  isForStatement,\n  isIfStatement,\n  isStatement,\n} from \"@babel/types\";\nimport type * as t from \"@babel/types\";\nimport * as charCodes from \"charcodes\";\n\nexport function WithStatement(this: Printer, node: t.WithStatement) {\n  this.word(\"with\");\n  this.space();\n  this.token(\"(\");\n  this.print(node.object, node);\n  this.token(\")\");\n  this.printBlock(node);\n}\n\nexport function IfStatement(this: Printer, node: t.IfStatement) {\n  this.word(\"if\");\n  this.space();\n  this.token(\"(\");\n  this.print(node.test, node);\n  this.token(\")\");\n  this.space();\n\n  const needsBlock =\n    node.alternate && isIfStatement(getLastStatement(node.consequent));\n  if (needsBlock) {\n    this.token(\"{\");\n    this.newline();\n    this.indent();\n  }\n\n  this.printAndIndentOnComments(node.consequent, node);\n\n  if (needsBlock) {\n    this.dedent();\n    this.newline();\n    this.token(\"}\");\n  }\n\n  if (node.alternate) {\n    if (this.endsWith(charCodes.rightCurlyBrace)) this.space();\n    this.word(\"else\");\n    this.space();\n    this.printAndIndentOnComments(node.alternate, node);\n  }\n}\n\n// Recursively get the last statement.\nfunction getLastStatement(statement: t.Statement): t.Statement {\n  // @ts-expect-error: If statement.body is empty or not a Node, isStatement will return false\n  const { body } = statement;\n  if (isStatement(body) === false) {\n    return statement;\n  }\n\n  return getLastStatement(body);\n}\n\nexport function ForStatement(this: Printer, node: t.ForStatement) {\n  this.word(\"for\");\n  this.space();\n  this.token(\"(\");\n\n  this.inForStatementInitCounter++;\n  this.print(node.init, node);\n  this.inForStatementInitCounter--;\n  this.token(\";\");\n\n  if (node.test) {\n    this.space();\n    this.print(node.test, node);\n  }\n  this.token(\";\");\n\n  if (node.update) {\n    this.space();\n    this.print(node.update, node);\n  }\n\n  this.token(\")\");\n  this.printBlock(node);\n}\n\nexport function WhileStatement(this: Printer, node: t.WhileStatement) {\n  this.word(\"while\");\n  this.space();\n  this.token(\"(\");\n  this.print(node.test, node);\n  this.token(\")\");\n  this.printBlock(node);\n}\n\nfunction ForXStatement(this: Printer, node: t.ForXStatement) {\n  this.word(\"for\");\n  this.space();\n  const isForOf = node.type === \"ForOfStatement\";\n  if (isForOf && node.await) {\n    this.word(\"await\");\n    this.space();\n  }\n  this.printInnerComments(node, false);\n  this.token(\"(\");\n  this.print(node.left, node);\n  this.space();\n  this.word(isForOf ? \"of\" : \"in\");\n  this.space();\n  this.print(node.right, node);\n  this.token(\")\");\n  this.printBlock(node);\n}\n\nexport const ForInStatement = ForXStatement;\nexport const ForOfStatement = ForXStatement;\n\nexport function DoWhileStatement(this: Printer, node: t.DoWhileStatement) {\n  this.word(\"do\");\n  this.space();\n  this.print(node.body, node);\n  this.space();\n  this.word(\"while\");\n  this.space();\n  this.token(\"(\");\n  this.print(node.test, node);\n  this.token(\")\");\n  this.semicolon();\n}\n\nfunction printStatementAfterKeyword(\n  printer: Printer,\n  node: t.Node,\n  parent: t.Node,\n  isLabel: boolean,\n) {\n  if (node) {\n    printer.space();\n    printer.printTerminatorless(node, parent, isLabel);\n  }\n\n  printer.semicolon();\n}\n\nexport function BreakStatement(this: Printer, node: t.ContinueStatement) {\n  this.word(\"break\");\n  printStatementAfterKeyword(this, node.label, node, true);\n}\n\nexport function ContinueStatement(this: Printer, node: t.ContinueStatement) {\n  this.word(\"continue\");\n  printStatementAfterKeyword(this, node.label, node, true);\n}\n\nexport function ReturnStatement(this: Printer, node: t.ReturnStatement) {\n  this.word(\"return\");\n  printStatementAfterKeyword(this, node.argument, node, false);\n}\n\nexport function ThrowStatement(this: Printer, node: t.ThrowStatement) {\n  this.word(\"throw\");\n  printStatementAfterKeyword(this, node.argument, node, false);\n}\n\nexport function LabeledStatement(this: Printer, node: t.LabeledStatement) {\n  this.print(node.label, node);\n  this.token(\":\");\n  this.space();\n  this.print(node.body, node);\n}\n\nexport function TryStatement(this: Printer, node: t.TryStatement) {\n  this.word(\"try\");\n  this.space();\n  this.print(node.block, node);\n  this.space();\n\n  // Esprima bug puts the catch clause in a `handlers` array.\n  // see https://code.google.com/p/esprima/issues/detail?id=433\n  // We run into this from regenerator generated ast.\n  // @ts-expect-error todo(flow->ts) should ast node type be updated to support this?\n  if (node.handlers) {\n    // @ts-expect-error todo(flow->ts) should ast node type be updated to support this?\n    this.print(node.handlers[0], node);\n  } else {\n    this.print(node.handler, node);\n  }\n\n  if (node.finalizer) {\n    this.space();\n    this.word(\"finally\");\n    this.space();\n    this.print(node.finalizer, node);\n  }\n}\n\nexport function CatchClause(this: Printer, node: t.CatchClause) {\n  this.word(\"catch\");\n  this.space();\n  if (node.param) {\n    this.token(\"(\");\n    this.print(node.param, node);\n    this.print(node.param.typeAnnotation, node);\n    this.token(\")\");\n    this.space();\n  }\n  this.print(node.body, node);\n}\n\nexport function SwitchStatement(this: Printer, node: t.SwitchStatement) {\n  this.word(\"switch\");\n  this.space();\n  this.token(\"(\");\n  this.print(node.discriminant, node);\n  this.token(\")\");\n  this.space();\n  this.token(\"{\");\n\n  this.printSequence(node.cases, node, {\n    indent: true,\n    addNewlines(leading, cas) {\n      if (!leading && node.cases[node.cases.length - 1] === cas) return -1;\n    },\n  });\n\n  this.token(\"}\");\n}\n\nexport function SwitchCase(this: Printer, node: t.SwitchCase) {\n  if (node.test) {\n    this.word(\"case\");\n    this.space();\n    this.print(node.test, node);\n    this.token(\":\");\n  } else {\n    this.word(\"default\");\n    this.token(\":\");\n  }\n\n  if (node.consequent.length) {\n    this.newline();\n    this.printSequence(node.consequent, node, { indent: true });\n  }\n}\n\nexport function DebuggerStatement(this: Printer) {\n  this.word(\"debugger\");\n  this.semicolon();\n}\n\nexport function VariableDeclaration(\n  this: Printer,\n  node: t.VariableDeclaration,\n  parent: t.Node,\n) {\n  if (node.declare) {\n    // TS\n    this.word(\"declare\");\n    this.space();\n  }\n\n  const { kind } = node;\n  this.word(kind);\n  const { _noLineTerminator } = this;\n  if (kind === \"using\") {\n    // ensure no line break after `using`\n    this._noLineTerminator = true;\n  }\n  this.space();\n\n  let hasInits = false;\n  // don't add whitespace to loop heads\n  if (!isFor(parent)) {\n    for (const declar of node.declarations) {\n      if (declar.init) {\n        // has an init so let's split it up over multiple lines\n        hasInits = true;\n      }\n    }\n  }\n\n  //\n  // use a pretty separator when we aren't in compact mode, have initializers and don't have retainLines on\n  // this will format declarations like:\n  //\n  //   let foo = \"bar\", bar = \"foo\";\n  //\n  // into\n  //\n  //   let foo = \"bar\",\n  //       bar = \"foo\";\n  //\n\n  let iterator: PrintJoinOptions[\"iterator\"] | undefined;\n  if (kind === \"using\") {\n    // Ensure no line break between `using` and the first declarator\n    iterator = (_, i: number) => {\n      if (i === 0) {\n        this._noLineTerminator = _noLineTerminator;\n      }\n    };\n  }\n\n  this.printList(node.declarations, node, {\n    separator: hasInits\n      ? function (this: Printer) {\n          this.token(\",\");\n          this.newline();\n        }\n      : undefined,\n    iterator,\n    indent: node.declarations.length > 1 ? true : false,\n  });\n\n  if (isFor(parent)) {\n    // don't give semicolons to these nodes since they'll be inserted in the parent generator\n    if (isForStatement(parent)) {\n      if (parent.init === node) return;\n    } else {\n      if (parent.left === node) return;\n    }\n  }\n\n  this.semicolon();\n}\n\nexport function VariableDeclarator(this: Printer, node: t.VariableDeclarator) {\n  this.print(node.id, node);\n  if (node.definite) this.token(\"!\"); // TS\n  // @ts-expect-error todo(flow-ts) Property 'typeAnnotation' does not exist on type 'MemberExpression'.\n  this.print(node.id.typeAnnotation, node);\n  if (node.init) {\n    this.space();\n    this.token(\"=\");\n    this.space();\n    this.print(node.init, node);\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;EACEA,K;EACAC,c;EACAC,a;EACAC;;;AAKK,SAASC,aAAT,CAAsCC,IAAtC,EAA6D;EAClE,KAAKC,IAAL,CAAU,MAAV;EACA,KAAKC,KAAL;EACA,KAAKC,SAAL;EACA,KAAKC,KAAL,CAAWJ,IAAI,CAACK,MAAhB,EAAwBL,IAAxB;EACA,KAAKG,SAAL;EACA,KAAKG,UAAL,CAAgBN,IAAhB;AACD;;AAEM,SAASO,WAAT,CAAoCP,IAApC,EAAyD;EAC9D,KAAKC,IAAL,CAAU,IAAV;EACA,KAAKC,KAAL;EACA,KAAKC,SAAL;EACA,KAAKC,KAAL,CAAWJ,IAAI,CAACQ,IAAhB,EAAsBR,IAAtB;EACA,KAAKG,SAAL;EACA,KAAKD,KAAL;EAEA,MAAMO,UAAU,GACdT,IAAI,CAACU,SAAL,IAAkBb,aAAa,CAACc,gBAAgB,CAACX,IAAI,CAACY,UAAN,CAAjB,CADjC;;EAEA,IAAIH,UAAJ,EAAgB;IACd,KAAKN,SAAL;IACA,KAAKU,OAAL;IACA,KAAKC,MAAL;EACD;;EAED,KAAKC,wBAAL,CAA8Bf,IAAI,CAACY,UAAnC,EAA+CZ,IAA/C;;EAEA,IAAIS,UAAJ,EAAgB;IACd,KAAKO,MAAL;IACA,KAAKH,OAAL;IACA,KAAKV,SAAL;EACD;;EAED,IAAIH,IAAI,CAACU,SAAT,EAAoB;IAClB,IAAI,KAAKO,QAAL,KAAJ,EAA8C,KAAKf,KAAL;IAC9C,KAAKD,IAAL,CAAU,MAAV;IACA,KAAKC,KAAL;IACA,KAAKa,wBAAL,CAA8Bf,IAAI,CAACU,SAAnC,EAA8CV,IAA9C;EACD;AACF;;AAGD,SAASW,gBAAT,CAA0BO,SAA1B,EAA+D;EAE7D,MAAM;IAAEC;EAAF,IAAWD,SAAjB;;EACA,IAAIpB,WAAW,CAACqB,IAAD,CAAX,KAAsB,KAA1B,EAAiC;IAC/B,OAAOD,SAAP;EACD;;EAED,OAAOP,gBAAgB,CAACQ,IAAD,CAAvB;AACD;;AAEM,SAASC,YAAT,CAAqCpB,IAArC,EAA2D;EAChE,KAAKC,IAAL,CAAU,KAAV;EACA,KAAKC,KAAL;EACA,KAAKC,SAAL;EAEA,KAAKkB,yBAAL;EACA,KAAKjB,KAAL,CAAWJ,IAAI,CAACsB,IAAhB,EAAsBtB,IAAtB;EACA,KAAKqB,yBAAL;EACA,KAAKlB,SAAL;;EAEA,IAAIH,IAAI,CAACQ,IAAT,EAAe;IACb,KAAKN,KAAL;IACA,KAAKE,KAAL,CAAWJ,IAAI,CAACQ,IAAhB,EAAsBR,IAAtB;EACD;;EACD,KAAKG,SAAL;;EAEA,IAAIH,IAAI,CAACuB,MAAT,EAAiB;IACf,KAAKrB,KAAL;IACA,KAAKE,KAAL,CAAWJ,IAAI,CAACuB,MAAhB,EAAwBvB,IAAxB;EACD;;EAED,KAAKG,SAAL;EACA,KAAKG,UAAL,CAAgBN,IAAhB;AACD;;AAEM,SAASwB,cAAT,CAAuCxB,IAAvC,EAA+D;EACpE,KAAKC,IAAL,CAAU,OAAV;EACA,KAAKC,KAAL;EACA,KAAKC,SAAL;EACA,KAAKC,KAAL,CAAWJ,IAAI,CAACQ,IAAhB,EAAsBR,IAAtB;EACA,KAAKG,SAAL;EACA,KAAKG,UAAL,CAAgBN,IAAhB;AACD;;AAED,SAASyB,aAAT,CAAsCzB,IAAtC,EAA6D;EAC3D,KAAKC,IAAL,CAAU,KAAV;EACA,KAAKC,KAAL;EACA,MAAMwB,OAAO,GAAG1B,IAAI,CAAC2B,IAAL,KAAc,gBAA9B;;EACA,IAAID,OAAO,IAAI1B,IAAI,CAAC4B,KAApB,EAA2B;IACzB,KAAK3B,IAAL,CAAU,OAAV;IACA,KAAKC,KAAL;EACD;;EACD,KAAK2B,kBAAL,CAAwB7B,IAAxB,EAA8B,KAA9B;EACA,KAAKG,SAAL;EACA,KAAKC,KAAL,CAAWJ,IAAI,CAAC8B,IAAhB,EAAsB9B,IAAtB;EACA,KAAKE,KAAL;EACA,KAAKD,IAAL,CAAUyB,OAAO,GAAG,IAAH,GAAU,IAA3B;EACA,KAAKxB,KAAL;EACA,KAAKE,KAAL,CAAWJ,IAAI,CAAC+B,KAAhB,EAAuB/B,IAAvB;EACA,KAAKG,SAAL;EACA,KAAKG,UAAL,CAAgBN,IAAhB;AACD;;AAEM,MAAMgC,cAAc,GAAGP,aAAvB;;AACA,MAAMQ,cAAc,GAAGR,aAAvB;;;AAEA,SAASS,gBAAT,CAAyClC,IAAzC,EAAmE;EACxE,KAAKC,IAAL,CAAU,IAAV;EACA,KAAKC,KAAL;EACA,KAAKE,KAAL,CAAWJ,IAAI,CAACmB,IAAhB,EAAsBnB,IAAtB;EACA,KAAKE,KAAL;EACA,KAAKD,IAAL,CAAU,OAAV;EACA,KAAKC,KAAL;EACA,KAAKC,SAAL;EACA,KAAKC,KAAL,CAAWJ,IAAI,CAACQ,IAAhB,EAAsBR,IAAtB;EACA,KAAKG,SAAL;EACA,KAAKgC,SAAL;AACD;;AAED,SAASC,0BAAT,CACEC,OADF,EAEErC,IAFF,EAGEsC,MAHF,EAIEC,OAJF,EAKE;EACA,IAAIvC,IAAJ,EAAU;IACRqC,OAAO,CAACnC,KAAR;IACAmC,OAAO,CAACG,mBAAR,CAA4BxC,IAA5B,EAAkCsC,MAAlC,EAA0CC,OAA1C;EACD;;EAEDF,OAAO,CAACF,SAAR;AACD;;AAEM,SAASM,cAAT,CAAuCzC,IAAvC,EAAkE;EACvE,KAAKC,IAAL,CAAU,OAAV;EACAmC,0BAA0B,CAAC,IAAD,EAAOpC,IAAI,CAAC0C,KAAZ,EAAmB1C,IAAnB,EAAyB,IAAzB,CAA1B;AACD;;AAEM,SAAS2C,iBAAT,CAA0C3C,IAA1C,EAAqE;EAC1E,KAAKC,IAAL,CAAU,UAAV;EACAmC,0BAA0B,CAAC,IAAD,EAAOpC,IAAI,CAAC0C,KAAZ,EAAmB1C,IAAnB,EAAyB,IAAzB,CAA1B;AACD;;AAEM,SAAS4C,eAAT,CAAwC5C,IAAxC,EAAiE;EACtE,KAAKC,IAAL,CAAU,QAAV;EACAmC,0BAA0B,CAAC,IAAD,EAAOpC,IAAI,CAAC6C,QAAZ,EAAsB7C,IAAtB,EAA4B,KAA5B,CAA1B;AACD;;AAEM,SAAS8C,cAAT,CAAuC9C,IAAvC,EAA+D;EACpE,KAAKC,IAAL,CAAU,OAAV;EACAmC,0BAA0B,CAAC,IAAD,EAAOpC,IAAI,CAAC6C,QAAZ,EAAsB7C,IAAtB,EAA4B,KAA5B,CAA1B;AACD;;AAEM,SAAS+C,gBAAT,CAAyC/C,IAAzC,EAAmE;EACxE,KAAKI,KAAL,CAAWJ,IAAI,CAAC0C,KAAhB,EAAuB1C,IAAvB;EACA,KAAKG,SAAL;EACA,KAAKD,KAAL;EACA,KAAKE,KAAL,CAAWJ,IAAI,CAACmB,IAAhB,EAAsBnB,IAAtB;AACD;;AAEM,SAASgD,YAAT,CAAqChD,IAArC,EAA2D;EAChE,KAAKC,IAAL,CAAU,KAAV;EACA,KAAKC,KAAL;EACA,KAAKE,KAAL,CAAWJ,IAAI,CAACiD,KAAhB,EAAuBjD,IAAvB;EACA,KAAKE,KAAL;;EAMA,IAAIF,IAAI,CAACkD,QAAT,EAAmB;IAEjB,KAAK9C,KAAL,CAAWJ,IAAI,CAACkD,QAAL,CAAc,CAAd,CAAX,EAA6BlD,IAA7B;EACD,CAHD,MAGO;IACL,KAAKI,KAAL,CAAWJ,IAAI,CAACmD,OAAhB,EAAyBnD,IAAzB;EACD;;EAED,IAAIA,IAAI,CAACoD,SAAT,EAAoB;IAClB,KAAKlD,KAAL;IACA,KAAKD,IAAL,CAAU,SAAV;IACA,KAAKC,KAAL;IACA,KAAKE,KAAL,CAAWJ,IAAI,CAACoD,SAAhB,EAA2BpD,IAA3B;EACD;AACF;;AAEM,SAASqD,WAAT,CAAoCrD,IAApC,EAAyD;EAC9D,KAAKC,IAAL,CAAU,OAAV;EACA,KAAKC,KAAL;;EACA,IAAIF,IAAI,CAACsD,KAAT,EAAgB;IACd,KAAKnD,SAAL;IACA,KAAKC,KAAL,CAAWJ,IAAI,CAACsD,KAAhB,EAAuBtD,IAAvB;IACA,KAAKI,KAAL,CAAWJ,IAAI,CAACsD,KAAL,CAAWC,cAAtB,EAAsCvD,IAAtC;IACA,KAAKG,SAAL;IACA,KAAKD,KAAL;EACD;;EACD,KAAKE,KAAL,CAAWJ,IAAI,CAACmB,IAAhB,EAAsBnB,IAAtB;AACD;;AAEM,SAASwD,eAAT,CAAwCxD,IAAxC,EAAiE;EACtE,KAAKC,IAAL,CAAU,QAAV;EACA,KAAKC,KAAL;EACA,KAAKC,SAAL;EACA,KAAKC,KAAL,CAAWJ,IAAI,CAACyD,YAAhB,EAA8BzD,IAA9B;EACA,KAAKG,SAAL;EACA,KAAKD,KAAL;EACA,KAAKC,SAAL;EAEA,KAAKuD,aAAL,CAAmB1D,IAAI,CAAC2D,KAAxB,EAA+B3D,IAA/B,EAAqC;IACnCc,MAAM,EAAE,IAD2B;;IAEnC8C,WAAW,CAACC,OAAD,EAAUC,GAAV,EAAe;MACxB,IAAI,CAACD,OAAD,IAAY7D,IAAI,CAAC2D,KAAL,CAAW3D,IAAI,CAAC2D,KAAL,CAAWI,MAAX,GAAoB,CAA/B,MAAsCD,GAAtD,EAA2D,OAAO,CAAC,CAAR;IAC5D;;EAJkC,CAArC;EAOA,KAAK3D,SAAL;AACD;;AAEM,SAAS6D,UAAT,CAAmChE,IAAnC,EAAuD;EAC5D,IAAIA,IAAI,CAACQ,IAAT,EAAe;IACb,KAAKP,IAAL,CAAU,MAAV;IACA,KAAKC,KAAL;IACA,KAAKE,KAAL,CAAWJ,IAAI,CAACQ,IAAhB,EAAsBR,IAAtB;IACA,KAAKG,SAAL;EACD,CALD,MAKO;IACL,KAAKF,IAAL,CAAU,SAAV;IACA,KAAKE,SAAL;EACD;;EAED,IAAIH,IAAI,CAACY,UAAL,CAAgBmD,MAApB,EAA4B;IAC1B,KAAKlD,OAAL;IACA,KAAK6C,aAAL,CAAmB1D,IAAI,CAACY,UAAxB,EAAoCZ,IAApC,EAA0C;MAAEc,MAAM,EAAE;IAAV,CAA1C;EACD;AACF;;AAEM,SAASmD,iBAAT,GAA0C;EAC/C,KAAKhE,IAAL,CAAU,UAAV;EACA,KAAKkC,SAAL;AACD;;AAEM,SAAS+B,mBAAT,CAELlE,IAFK,EAGLsC,MAHK,EAIL;EACA,IAAItC,IAAI,CAACmE,OAAT,EAAkB;IAEhB,KAAKlE,IAAL,CAAU,SAAV;IACA,KAAKC,KAAL;EACD;;EAED,MAAM;IAAEkE;EAAF,IAAWpE,IAAjB;EACA,KAAKC,IAAL,CAAUmE,IAAV;EACA,MAAM;IAAEC;EAAF,IAAwB,IAA9B;;EACA,IAAID,IAAI,KAAK,OAAb,EAAsB;IAEpB,KAAKC,iBAAL,GAAyB,IAAzB;EACD;;EACD,KAAKnE,KAAL;EAEA,IAAIoE,QAAQ,GAAG,KAAf;;EAEA,IAAI,CAAC3E,KAAK,CAAC2C,MAAD,CAAV,EAAoB;IAClB,KAAK,MAAMiC,MAAX,IAAqBvE,IAAI,CAACwE,YAA1B,EAAwC;MACtC,IAAID,MAAM,CAACjD,IAAX,EAAiB;QAEfgD,QAAQ,GAAG,IAAX;MACD;IACF;EACF;;EAcD,IAAIG,QAAJ;;EACA,IAAIL,IAAI,KAAK,OAAb,EAAsB;IAEpBK,QAAQ,GAAG,CAACC,CAAD,EAAIC,CAAJ,KAAkB;MAC3B,IAAIA,CAAC,KAAK,CAAV,EAAa;QACX,KAAKN,iBAAL,GAAyBA,iBAAzB;MACD;IACF,CAJD;EAKD;;EAED,KAAKO,SAAL,CAAe5E,IAAI,CAACwE,YAApB,EAAkCxE,IAAlC,EAAwC;IACtC6E,SAAS,EAAEP,QAAQ,GACf,YAAyB;MACvB,KAAKnE,SAAL;MACA,KAAKU,OAAL;IACD,CAJc,GAKfiE,SANkC;IAOtCL,QAPsC;IAQtC3D,MAAM,EAAEd,IAAI,CAACwE,YAAL,CAAkBT,MAAlB,GAA2B,CAA3B,GAA+B,IAA/B,GAAsC;EARR,CAAxC;;EAWA,IAAIpE,KAAK,CAAC2C,MAAD,CAAT,EAAmB;IAEjB,IAAI1C,cAAc,CAAC0C,MAAD,CAAlB,EAA4B;MAC1B,IAAIA,MAAM,CAAChB,IAAP,KAAgBtB,IAApB,EAA0B;IAC3B,CAFD,MAEO;MACL,IAAIsC,MAAM,CAACR,IAAP,KAAgB9B,IAApB,EAA0B;IAC3B;EACF;;EAED,KAAKmC,SAAL;AACD;;AAEM,SAAS4C,kBAAT,CAA2C/E,IAA3C,EAAuE;EAC5E,KAAKI,KAAL,CAAWJ,IAAI,CAACgF,EAAhB,EAAoBhF,IAApB;EACA,IAAIA,IAAI,CAACiF,QAAT,EAAmB,KAAK9E,SAAL;EAEnB,KAAKC,KAAL,CAAWJ,IAAI,CAACgF,EAAL,CAAQzB,cAAnB,EAAmCvD,IAAnC;;EACA,IAAIA,IAAI,CAACsB,IAAT,EAAe;IACb,KAAKpB,KAAL;IACA,KAAKC,SAAL;IACA,KAAKD,KAAL;IACA,KAAKE,KAAL,CAAWJ,IAAI,CAACsB,IAAhB,EAAsBtB,IAAtB;EACD;AACF"}