{"version":3,"file":"InputWrapper.js","sources":["../../../src/Input/InputWrapper/InputWrapper.tsx"],"sourcesContent":["import React, { forwardRef, Fragment } from 'react';\nimport { DefaultProps, MantineSize, Selectors, useComponentDefaultProps } from '@mantine/styles';\nimport { Box } from '../../Box';\nimport { InputLabel, InputLabelStylesNames } from '../InputLabel/InputLabel';\nimport { InputError, InputErrorStylesNames } from '../InputError/InputError';\nimport {\n  InputDescription,\n  InputDescriptionStylesNames,\n} from '../InputDescription/InputDescription';\nimport { InputWrapperProvider } from '../InputWrapper.context';\nimport { getInputOffsets } from './get-input-offsets';\nimport useStyles from './InputWrapper.styles';\n\nexport type InputWrapperStylesNames =\n  | Selectors<typeof useStyles>\n  | InputLabelStylesNames\n  | InputErrorStylesNames\n  | InputDescriptionStylesNames;\n\nexport interface InputWrapperBaseProps {\n  /** Input label, displayed before input */\n  label?: React.ReactNode;\n\n  /** Input description, displayed after label */\n  description?: React.ReactNode;\n\n  /** Displays error message after input */\n  error?: React.ReactNode;\n\n  /** Adds required attribute to the input and red asterisk on the right side of label */\n  required?: boolean;\n\n  /** Determines whether required asterisk should be rendered, overrides required prop, does not add required attribute to the input */\n  withAsterisk?: boolean;\n\n  /** Props spread to label element */\n  labelProps?: Record<string, any>;\n\n  /** Props spread to description element */\n  descriptionProps?: Record<string, any>;\n\n  /** Props spread to error element */\n  errorProps?: Record<string, any>;\n\n  /** Input container component, defaults to React.Fragment */\n  inputContainer?(children: React.ReactNode): React.ReactNode;\n\n  /** Controls order of the Input.Wrapper elements */\n  inputWrapperOrder?: ('label' | 'input' | 'description' | 'error')[];\n}\n\nexport interface InputWrapperProps\n  extends DefaultProps<InputWrapperStylesNames>,\n    InputWrapperBaseProps,\n    React.ComponentPropsWithoutRef<'div'> {\n  /** Input that should be wrapped */\n  children: React.ReactNode;\n\n  /** htmlFor label prop */\n  id?: string;\n\n  /** Render label as label with htmlFor or as div */\n  labelElement?: 'label' | 'div';\n\n  /** Controls all elements font-size */\n  size?: MantineSize;\n\n  /** Static css selector base */\n  __staticSelector?: string;\n}\n\nconst defaultProps: Partial<InputWrapperProps> = {\n  labelElement: 'label',\n  size: 'sm',\n  inputContainer: (children) => children,\n  inputWrapperOrder: ['label', 'description', 'input', 'error'],\n};\n\nexport const InputWrapper = forwardRef<HTMLDivElement, InputWrapperProps>((props, ref) => {\n  const {\n    className,\n    label,\n    children,\n    required,\n    id,\n    error,\n    description,\n    labelElement,\n    labelProps,\n    descriptionProps,\n    errorProps,\n    classNames,\n    styles,\n    size,\n    inputContainer,\n    __staticSelector,\n    unstyled,\n    inputWrapperOrder,\n    withAsterisk,\n    ...others\n  } = useComponentDefaultProps('InputWrapper', defaultProps, props);\n\n  const { classes, cx } = useStyles(null, {\n    classNames,\n    styles,\n    name: ['InputWrapper', __staticSelector],\n    unstyled,\n  });\n\n  const sharedProps = {\n    classNames,\n    styles,\n    unstyled,\n    size,\n    __staticSelector,\n  };\n\n  const isRequired = typeof withAsterisk === 'boolean' ? withAsterisk : required;\n\n  const _label = label && (\n    <InputLabel\n      key=\"label\"\n      labelElement={labelElement}\n      id={id ? `${id}-label` : undefined}\n      htmlFor={id}\n      required={isRequired}\n      {...sharedProps}\n      {...labelProps}\n    >\n      {label}\n    </InputLabel>\n  );\n\n  const _description = description && (\n    <InputDescription\n      key=\"description\"\n      {...descriptionProps}\n      {...sharedProps}\n      size={descriptionProps?.size || sharedProps.size}\n    >\n      {description}\n    </InputDescription>\n  );\n\n  const _input = <Fragment key=\"input\">{inputContainer(children)}</Fragment>;\n\n  const _error = typeof error !== 'boolean' && error && (\n    <InputError\n      {...errorProps}\n      {...sharedProps}\n      size={errorProps?.size || sharedProps.size}\n      key=\"error\"\n    >\n      {error}\n    </InputError>\n  );\n\n  const content = inputWrapperOrder.map((part) => {\n    switch (part) {\n      case 'label':\n        return _label;\n      case 'input':\n        return _input;\n      case 'description':\n        return _description;\n      case 'error':\n        return _error;\n      default:\n        return null;\n    }\n  });\n\n  return (\n    <InputWrapperProvider\n      value={getInputOffsets(inputWrapperOrder, {\n        hasDescription: !!_description,\n        hasError: !!_error,\n      })}\n    >\n      <Box className={cx(classes.root, className)} ref={ref} {...others}>\n        {content}\n      </Box>\n    </InputWrapperProvider>\n  );\n});\n\nInputWrapper.displayName = '@mantine/core/InputWrapper';\n"],"names":[],"mappings":"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"}